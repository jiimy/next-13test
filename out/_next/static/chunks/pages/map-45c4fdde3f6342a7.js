(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{577:function(t,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return e(1588)}])},1588:function(t,a,e){"use strict";e.r(a);var n=e(5893),o=e(7294),s=e(6154),l=e(8557),r=e(4480);a.default=()=>{let t=(0,r.sJ)(l.h),[a,e]=(0,o.useState)([]);return(0,o.useEffect)(()=>{s.Z.get("http://localhost:3000/api/navermap",{params:{query:"서울 관악구 관악로 1"}}).then(t=>{console.log("변환 : ",t),console.log("컨버터1: ",t.data.data.addresses[0].x),console.log("컨버터2: ",t.data.data.addresses[0].y),s.Z.get("http://localhost:3000/api/path",{params:{start:"".concat("34",",").concat("11"),goal:"".concat(t.data.data.addresses[0].x,", ").concat(t.data.data.addresses[0].y),option:"trafast"}}).then(t=>{console.log("경로탐색 : ",t.data.data.route.trafast[0].path),e(t.data.data.route.trafast[0].path)})})},[]),(0,o.useEffect)(()=>{if(a.length>0){let e=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(t.latitude,t.longitude),zoom:14}),n=new window.naver.maps.Polyline({map:e,path:a,strokeColor:"#ff0000",strokeWeight:3}),o=a.map(t=>{let[a,e]=t;return new window.naver.maps.LatLng(e,a)}),s=a.map((t,a)=>0===a||a===o.length-1?new window.naver.maps.Marker({position:t,map:e}):null).filter(t=>null!==t);return()=>{s.forEach(t=>t.setMap(null)),n.setMap(null)}}},[a,t]),(0,n.jsxs)("div",{children:["맵",(0,n.jsx)("div",{id:"map",style:{width:"100%",height:"500px"}})]})}},8557:function(t,a,e){"use strict";e.d(a,{h:function(){return s}});var n=e(4480);let o=(0,n.cn)({key:"userState",default:{atk:"",locationState:{latitude:0,longitude:0}}}),s=(0,n.nZ)({key:"locationSelector",get:t=>{let{get:a}=t,e=a(o);return e.locationState.latitude},set:(t,a)=>{let{set:e}=t;e(o,t=>({...t,locationState:{...t.locationState,latitude:a}}))}})}},function(t){t.O(0,[154,774,888,179],function(){return t(t.s=577)}),_N_E=t.O()}]);