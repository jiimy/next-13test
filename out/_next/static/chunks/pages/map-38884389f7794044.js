(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{577:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return a(1588)}])},1588:function(t,e,a){"use strict";a.r(e);var n=a(5893),o=a(7294),s=a(6154),l=a(8557),r=a(4480);e.default=()=>{let t=(0,r.sJ)(l.h),[e,a]=(0,o.useState)([]);return console.log("user 스토어",t),(0,o.useEffect)(()=>{console.log("시작"),s.Z.get("/api/navermap/route",{params:{query:"서울 관악구 관악로 1"}}).then(e=>{console.log("변환 : ",e),console.log("컨버터1: ",e.data.data.addresses[0].x),console.log("컨버터2: ",e.data.data.addresses[0].y),s.Z.get("https://next-13test.pages.dev/api/path",{params:{start:"".concat(t.longitude,",").concat(t.latitude),goal:"".concat(e.data.data.addresses[0].x,", ").concat(e.data.data.addresses[0].y),option:"trafast"}}).then(t=>{console.log("경로탐색 : ",t.data.data.route.trafast[0].path),a(t.data.data.route.trafast[0].path)}).catch(t=>console.log("err1",t))}).catch(t=>console.log("err2",t))},[t]),(0,o.useEffect)(()=>{if(console.log("경로 시작"),e.length>0){let a=new window.naver.maps.Map("map",{center:new window.naver.maps.LatLng(t.latitude,t.longitude),zoom:14}),n=new window.naver.maps.Polyline({map:a,path:e,strokeColor:"#ff0000",strokeWeight:3}),o=e.map(t=>{let[e,a]=t;return new window.naver.maps.LatLng(a,e)}),s=e.map((t,e)=>0===e||e===o.length-1?new window.naver.maps.Marker({position:t,map:a}):null).filter(t=>null!==t);return()=>{s.forEach(t=>t.setMap(null)),n.setMap(null)}}},[e,t]),(0,n.jsxs)("div",{children:["맵",(0,n.jsx)("div",{id:"map",style:{width:"100%",height:"500px"}})]})}},8557:function(t,e,a){"use strict";a.d(e,{h:function(){return s}});var n=a(4480);let o=(0,n.cn)({key:"userState",default:{atk:"",locationState:{latitude:0,longitude:0}}}),s=(0,n.nZ)({key:"locationSelector",get:t=>{let{get:e}=t,a=e(o);return a.locationState.latitude},set:(t,e)=>{let{set:a}=t;a(o,t=>({...t,locationState:{...t.locationState,latitude:e}}))}})}},function(t){t.O(0,[154,774,888,179],function(){return t(t.s=577)}),_N_E=t.O()}]);